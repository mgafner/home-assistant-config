- alias: 'Studio Heizung einschalten'
  initial_state: true
  hide_entity: false
  trigger:
    - platform: numeric_state
      entity_id: sensor.studio_temperature
      below: 20
    - platform: time
      after: '06:00:00'
    - platform: time
      after: '17:00:00'
    - platform: state
      entity_id: sensor.automation_preset
      to: 'home'
  condition:
    - condition: or
      conditions:
        - condition: time
          after: '06:00:00'
          before: '09:00:00'
        - condition: time
          after: '17:00:00'
          before: '22:00:00'
    - condition: or
      conditions:
        - condition: template
          value_template: "{{ is_state('sensor.automation_preset', 'home') }}"
        - condition: template
          value_template: "{{ is_state('sensor.automation_preset', 'sleep') }}"
  action:
    service: switch.turn_on
    data:
      entity_id: switch.studio_heizung 

- alias: 'Studio Heizung ausschalten'
  initial_state: true
  hide_entity: false
  trigger:
    platform: numeric_state
    entity_id: sensor.studio_temperature
    above: 20.1
  action:
    service: switch.turn_off
    data:
      entity_id: switch.studio_heizung

